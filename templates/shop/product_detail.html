{% extends "base.html" %}
{% load static %}

{% block title %}
    {{ product.name }}
{% endblock %}

{% block content %}
    <div class="row my_prod_row_class">
        <div class="container">
            <div class="text-start p-2">
                <div>
                    <a class="btn rounded-pill btn-secondary" href="{% url 'products:all_products' %}">Back</a>
                </div>
            </div>

            <div class="row mx-3">
                <div class="col-12 col-sm-12 col-md-12 col-lg-6 text-center">
                    <div style="min-width:18rem;">
                        <img src="{{product.image.url}}" alt="{{product.name}}">
                    </div>
                </div>

                <div class="col card shadow text-center">
                    <div class="m-3" style="height: 100%;">
                        <div class="row mb-1">
                            <p class="h1 text-start">{{product.name}}</p>
                        </div>
                        
                        <div class="row">
                            <p class="h4 text-start">Product Description</p>
                            <p class="px-3 text-start">{{product.description}}</p>
                        </div>
                        
                        <div class="row mx-5 mt-5">
                            <div class="p-2">
                                <p class="h5 text-start">â‚¬{{product.price}}</p>
                                
                                <div class="mt-3">
                                    {% if product.stock == 0%}
                                        <p class="bg-secondary rounded-pill text-white text-center py-2"><b>Out of Stock</b></p>
                                    {% else %}
                                        <a class="btn mb-2 rounded-pill btn-secondary" style="width: 100%;" href="{% url 'cart:add_cart' product.id %}">Add to Cart</a>
                                    {% endif %}
                                    
                                    <!-- Manager Buttons -->
                                    <div class="card shadow p-2">
                                        <p class="h6 mt-3">
                                            Manager options
                                        </p>
                                        <a class="btn mb-2 rounded-pill btn-secondary" style="width: 100%;" href="">Change Price (Manager Only)</a>
                                        <a class="btn mb-2 rounded-pill btn-secondary" style="width: 100%;" href="">Update Stock (Manager Only)</a>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
{% endblock %}
